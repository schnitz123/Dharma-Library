<!DOCTYPE html>
<html lang="{{ meta.mainLanguage }}">
  <head>
    <title>{% if title %}{{ title }}{% else %}{{ page.fileSlug }}{% endif %}</title>
    {%include "components/pageheader.njk"%}
    {% for imp in dynamics.common.head %}
      {% include imp %}
    {% endfor %}
    {% for imp in dynamics.index.head %}
      {% include imp %}
    {% endfor %}
  </head>
  <body class="theme-{{meta.baseTheme}} markdown-preview-view markdown-rendered markdown-preview-section {{meta.bodyClasses}}">
    {%include "components/notegrowthhistory.njk"%}
    {% if settings.dgShowFileTree !== true %}
      {%include "components/navbar.njk"%}
    {%else%}
      {%include "components/filetree.njk"%}
    {% endif %}
    {% if settings.dgEnableSearch === true %}
      {%include "components/searchContainer.njk"%}
    {% endif %}
    <main class="content cm-s-obsidian {{contentClasses}}">
      <header>
      {% if settings.dgShowInlineTitle === true %}
        <h1>{{ noteTitle  }}</h1>
      {% endif %}

<!-- Static Sidebar -->
    <div class="custom-sidebar">
<br><br><br>
      <ul>
        <li style="color: rgb(234, 198, 118);">Preliminaries
          <ul> 
              <li><a href="https://dharmalibrary.netlify.app/collected-topics/collected-topics/">Collected Topics</a></li>
              <li><a href="https://dharmalibrary.netlify.app/lorig/lorig/">Lorig</a></li>
              <li><a href="https://dharmalibrary.netlify.app/mmf/mmf/">MMF</a></li>
              <li><a href="https://dharmalibrary.netlify.app/tarig/tarig/">Tarig</a></li>
              <li><a href="https://dharmalibrary.netlify.app/tenets/tenets/">Tenets</a></li>
          </ul></li>
        <li><a href="https://dharmalibrary.netlify.app/perfection-of-wisdom/perfection-of-wisdom/">Perfection of Wisdom</a>
          <ul>
              <li><a href="https://dharmalibrary.netlify.app/perfection-of-wisdom/root-verses/root-verses/">Root Verses</a></li>
              <li><a href="https://dharmalibrary.netlify.app/perfection-of-wisdom/70-topics/70-topics/">70 Topics</a></li>
              <li><a href="https://dharmalibrary.netlify.app/perfection-of-wisdom/salam/salam/">Salam</a></li>
              <li><a href="https://dharmalibrary.netlify.app/perfection-of-wisdom/int-def/int-def/">Int&Def Meaning</a></li>
              <li><a href="https://dharmalibrary.netlify.app/perfection-of-wisdom/20-sangha/20-sangha/">20 Sangha</a></li>
              <li><a href="https://dharmalibrary.netlify.app/perfection-of-wisdom/concentrations/concentrations/">Concentrations</a></li>
              <li><a href="https://dharmalibrary.netlify.app/perfection-of-wisdom/dependent-arising/dependent-arising/">Dependent-Arising</a></li>
          </ul></li>
        <li><a href="https://dharmalibrary.netlify.app/madhyamaka/madhyamaka/">Madhyamaka</a>
        </li>
        <li style="color: rgb(234, 198, 118);">Misc
          <ul>
              <li><a href="https://dharmalibrary.netlify.app/lamrim-glossary/lamrim-glossary/">Lamrim Glossary</a></li>
              <li><a href="https://dharmalibrary.netlify.app/perfection-of-wisdom/topics/samsara-chart/">Samsara Chart</a></li>
              <li><a href="https://dharmalibrary.netlify.app/quotes/quotes/">Texts & Quotes</a></li>
              <li><a href="https://dharmalibrary.netlify.app/shantideva/shantideva/">Shantideva</a></li>
              <li><a href="https://dharmalibrary.netlify.app/abhidharmakosha/chapter-6/">ABK ch6</a></li>
              <li><a href="https://dharmalibrary.netlify.app/recitations/recitations/">Recitations</a></li>
              <li><a href="https://dharmalibrary.netlify.app/tantra/tantra/">Tantra</a></li>
          </ul></li>
      </ul>
    </div>


      <div class="header-meta">
        {% if settings.dgShowTags === true and tags %}
          <div class="header-tags">
            {% for tag in tags %}
              {% if tag != 'gardenEntry' and tag !='note' %}
                <a class="tag" onclick="toggleTagSearch(this)">
                  #{{tag}}
                </a>
              {% endif %}
            {% endfor %}
          </div>
        {% endif %}
      </div>
      {% for imp in dynamics.common.header %}
        {% include imp %}
      {% endfor %}
      {% for imp in dynamics.index.header %}
        {% include imp %}
      {% endfor %}
      </header>
      {% for imp in dynamics.common.beforeContent %}
        {% include imp %}
      {% endfor %}
      {% for imp in dynamics.index.beforeContent %}
        {% include imp %}
      {% endfor %}
      {{ content | hideDataview | taggify | link | safe}}
      {% for imp in dynamics.common.afterContent %}
        {% include imp %}
      {% endfor %}
      {% for imp in dynamics.index.afterContent %}
        {% include imp %}
      {% endfor %}
    </main>

    {% if settings.dgShowBacklinks === true or settings.dgShowLocalGraph === true or settings.dgShowToc === true%}
      {%include "components/sidebar.njk" %}
    {%endif%}

    {% if settings.dgLinkPreview === true %}
      {%include "components/linkPreview.njk"%}
    {% endif %}
    {% for imp in dynamics.common.footer %}
      {% include imp %}
    {% endfor %}
    {% for imp in dynamics.index.footer %}
      {% include imp %}
    {% endfor %}
    {%include "components/lucideIcons.njk"%}


document.addEventListener('DOMContentLoaded', () => {
  const toggleButton = document.querySelector('.menu-toggle');
  const menuList = document.getElementById('main-mobile-menu');

  if (toggleButton && menuList) {
    toggleButton.addEventListener('click', () => {
      // Toggles the 'is-open' class on the menu list
      menuList.classList.toggle('is-open');
      
      // Toggles ARIA attributes for accessibility
      const isExpanded = toggleButton.getAttribute('aria-expanded') === 'true' || false;
      toggleButton.setAttribute('aria-expanded', !isExpanded);
    });
    
    // Optional: Close the MAIN menu when any link (including sub-links) is clicked
    menuList.querySelectorAll('a').forEach(link => {
      link.addEventListener('click', () => {
        menuList.classList.remove('is-open');
        toggleButton.setAttribute('aria-expanded', 'false');
      });
    });
  }
});


</body>
  </html>
